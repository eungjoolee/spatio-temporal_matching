<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: frame_simulator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classframe__simulator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">frame_simulator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="frame__simulator_8h_source.html">frame_simulator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for frame_simulator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classframe__simulator.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4197a8df08318109fd0610678863cfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframe__simulator.html#ac4197a8df08318109fd0610678863cfb">frame_simulator</a> (char *file, int max_thread_num)</td></tr>
<tr class="separator:ac4197a8df08318109fd0610678863cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10114d6b7f001c65ca723fbd40476773"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframe__simulator.html#a10114d6b7f001c65ca723fbd40476773">enable</a> () override</td></tr>
<tr class="separator:a10114d6b7f001c65ca723fbd40476773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6473fef1c08f46f68acfcadcaf3f652a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframe__simulator.html#a6473fef1c08f46f68acfcadcaf3f652a">invoke</a> () override</td></tr>
<tr class="separator:a6473fef1c08f46f68acfcadcaf3f652a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac631b2cdb2c623c66674c50a87b59563"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframe__simulator.html#ac631b2cdb2c623c66674c50a87b59563">reset</a> () override</td></tr>
<tr class="separator:ac631b2cdb2c623c66674c50a87b59563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f20b5440f67989f748c819cfc96c5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframe__simulator.html#a63f20b5440f67989f748c819cfc96c5b">connect</a> (welt_cpp_graph *graph) override</td></tr>
<tr class="separator:a63f20b5440f67989f748c819cfc96c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177cd9878ab7fa53ddc5343b944579b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classframe__simulator.html#a177cd9878ab7fa53ddc5343b944579b6">frame_reader</a> ()</td></tr>
<tr class="separator:a177cd9878ab7fa53ddc5343b944579b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>There is no actual image/stream frames go into the actor. Bounding boxes of a frame is read from a txt file instead. Or they could be the output of the predecessor actor and read from fifos. Itâ€™s a CFDF (core functional dataflow) actor so that it has three modes&ndash;update mode, process mode, and output mode.</p>
<p>Output: object bounding boxes info (bounding box id, width, height, coordinate x, y) of the frames will be written on to the fifo. Please note one frame might have more than one object bounding boxes. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac4197a8df08318109fd0610678863cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4197a8df08318109fd0610678863cfb">&#9670;&nbsp;</a></span>frame_simulator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">frame_simulator::frame_simulator </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_thread_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The path of the input txt file containing object bounding boxes info (bounding box id, width, height, coordinate x, y) of the frames. Please note each frame might have more than one object bounding boxes. </td></tr>
    <tr><td class="paramname">max_thread_num</td><td>The maximum number of available thread spared to execute the program. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a63f20b5440f67989f748c819cfc96c5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f20b5440f67989f748c819cfc96c5b">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void frame_simulator::connect </td>
          <td>(</td>
          <td class="paramtype">welt_cpp_graph *&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Override the connect abstract method in welter </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10114d6b7f001c65ca723fbd40476773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10114d6b7f001c65ca723fbd40476773">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int frame_simulator::enable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Override the enable abstract method in welter Check if there are enough tokens to fire the actor. # required tokens = 0 </p><dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a177cd9878ab7fa53ddc5343b944579b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177cd9878ab7fa53ddc5343b944579b6">&#9670;&nbsp;</a></span>frame_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frame_simulator::frame_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read bounding boxes from an input txt file. Store them into a queue </p>

</div>
</div>
<a id="a6473fef1c08f46f68acfcadcaf3f652a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6473fef1c08f46f68acfcadcaf3f652a">&#9670;&nbsp;</a></span>invoke()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void frame_simulator::invoke </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Override the invoke abstract method in welter Fire the actor There are 4 modes in the invoke function: FRAME_SIM_PROCESS mode assign <a class="el" href="class_bounding__box__pair.html">Bounding_box_pair</a> in boundingBoxPairVec to fifos connected with <a class="el" href="classmatching__compute.html">matching_compute</a> actor. In one iteration, thread_num <a class="el" href="class_bounding__box__pair.html">Bounding_box_pair</a> is written to thread_num fifos, one in each. Iteration is repeated until there is no <a class="el" href="class_bounding__box__pair.html">Bounding_box_pair</a> in boundingBoxPairVec. When iteration ends, mode is set to FRAME_SIM_UPDATE</p>
<p>FRAME_SIM_UPDATE mode finds the some of <a class="el" href="class_bounding__box__pair.html">Bounding_box_pair</a> which have the maximum IOU value and matches the <a class="el" href="classobj_data.html">objData</a> in them (track the object bounding box). Then it empties the old boundingBoxPairVec and reinitialize it with all possible <a class="el" href="class_bounding__box__pair.html">Bounding_box_pair</a> from frame t-1, t, and t+1, and pushes them into the boundingBoxPairVec. mode is set back to FRAME_SIM_PROCESS at the end.</p>
<p>FRAME_SIM_OUTPUT print the tracking bounding box result. Bounding boxes in every frame is labeled with an index number, which tracks the objects.</p>
<p>In MATCHING_INACTIVE mode, actor is not responsible. </p>

</div>
</div>
<a id="ac631b2cdb2c623c66674c50a87b59563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac631b2cdb2c623c66674c50a87b59563">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void frame_simulator::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Override the reset abstract method in welter </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="frame__simulator_8h_source.html">frame_simulator.h</a></li>
<li>frame_simulator.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
